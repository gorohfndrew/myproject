{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container {% if ad.is_premium %}premium{% endif %}">
    <h1>{{ ad.title }}</h1>
    
    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö -->
    <div class="ad-card-header">
        {% if ad.is_premium %}
        <span class="vip-label"></span>
    {% elif ad.is_popular %}
        <span class="popular-label"></span>
    {% else %}
        <span class="standard-label"></span>
    {% endif %}
        
        <!-- –ì–∞–ª–µ—Ä–µ—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π -->
        <div class="ad-gallery">
            {% for img in ad.images.all %}
                <img src="{{ img.image.url }}" alt="{{ ad.title }}" class="main-image">
            {% empty %}
                <img src="{% static 'images/no-image.jpg' %}" alt="–ù–µ—Ç —Ñ–æ—Ç–æ" class="main-image">
            {% endfor %}
        </div>
         

        
        <!-- –ë–ª–æ–∫ —Å –¥–∞—Ç–æ–π –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞–º–∏ -->
        <div class="ad-meta">
            <span class="ad-date">{{ ad.created_at|date:"d.m.Y H:i" }}</span>
            <span class="ad-views"><i class="fas fa-eye"></i> {{ ad.views_count }}</span>
        </div>
        
        <!-- –ì–æ—Ä–æ–¥ -->
        <div class="ad-location">
            <i class="fas fa-map-marker-alt"></i>
            <span>{{ ad.city|default:"–ú—ñ—Å—Ç–æ –Ω–µ –æ–±—Ä–∞–Ω–æ" }}</span>
        </div>
    </div>

    <!-- –û—Å—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
    <div class="ad-info">
        <p class="ad-price"><strong>–¶—ñ–Ω–∞:</strong> {{ ad.price }} –≥—Ä–Ω.</p>
        <p class="ad-description">–û–ø–∏—Å: <strong>{{ ad.description }}</strong></p>
    </div>

    <!-- –í–∏–¥–µ–æ (–µ—Å–ª–∏ –µ—Å—Ç—å) -->
    {% if ad.video %}
    <div class="video-container">
        <video controls>
            <source src="{{ ad.video.url }}" type="video/mp4">
            –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–∏–¥–µ–æ.
        </video>
    </div>
    {% endif %}

    <!-- –ö–Ω–æ–ø–∫–∏ -->
    <div class="ad-actions">
        <a href="{% url 'ads:ads_list' %}" class="btn back-btn">–ù–∞–∑–∞–¥</a>
    </div>
</div>

<style>
   
    /* –í–∞—à–∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π */
    body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        text-align: center;
        background: #f4f4f4;
    }

    .container {
        position: relative;
        max-width: 600px;
        margin: auto;
        background: white;
        padding: 20px;
        border-radius: 0;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    .ad-card {
        position: relative;
        width: 100%;
        max-width: 600px;
        background: white;
        padding: 0;
        border-radius: 0;
        box-shadow: none;
        display: block;
        min-height: auto;
        margin: 0 auto 15px;
    }

    img:not(.logo), .video-container video, .video-container iframe {
        width: 100%;
        max-width: 500px;
        max-height: 700px;
        object-fit: cover;
        height: auto;
        border-radius: 10px;
    }

    .btn {
        display: inline-block;
        padding: 10px 15px;
        color: white;
        text-decoration: none;
        border-radius: 0;
        margin-top: 20px;
        transition: background 0.3s;
        background: #6c757d;
    }

    .premium {
        border: 2px solid gold;
    }

    .premium .btn {
        background: #ffcc00;
    }

    .premium .btn:hover {
        background: #e6a800;
    }
    .popular-label + .btn {
    background: #007bff;
}

.popular-label + .btn:hover {
    background: #0056b3;
}

/* üî∏ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ (–°–µ—Ä–∞—è –∫–Ω–æ–ø–∫–∞) */
.standard-label + .btn {
    background: #b0b0b0;
}

.standard-label + .btn:hover {
    background: #8c8c8c;
}



    .ad-card-header {
        position: relative;
        margin-bottom: 10px;
    }

    .ad-card img {
        width: 100%;
        height: auto;
        display: block;
        border-radius: 5px;
        margin: 0 auto;
    }

    .ad-date {
        position: absolute;
        left: 15px;
        bottom: 15px;
        color: #007bff;
        background: rgba(255, 255, 255, 0.9);
        padding: 3px 8px;
        border-radius: 3px;
        z-index: 2;
    }

    .ad-views {
        position: absolute;
        right: 15px;
        bottom: 15px;
        color: #007bff;
        background: rgba(255, 255, 255, 0.9);
        padding: 3px 8px;
        border-radius: 3px;
        z-index: 2;
    }

    .vip-label {
        position: absolute;
        top: 0;
        left: 0;
        width: 0;
        height: 0;
        border-right: 40px solid transparent;
        border-bottom: 40px solid transparent;
        border-left: 40px solid gold;
        z-index: 10;
    }

    .standard-label {
        position: absolute;
        top: 0;
        left: 0;
        width: 0;
        height: 0;
        border-right: 40px solid transparent;
        border-bottom: 40px solid transparent;
        border-left: 40px solid gray;
        z-index: 10;
    }

    .popular-label {
        position: absolute;
        top: 0;
        left: 0;
        width: 0;
        height: 0;
        border-right: 40px solid transparent;
        border-bottom: 40px solid transparent;
        border-left: 40px solid blue;
        z-index: 10;
    }

    /* –ï–î–ò–ù–°–¢–í–ï–ù–ù–û–ï –î–û–ë–ê–í–õ–ï–ù–ò–ï */
    .ad-card {
        position: relative;
    }
    .ad-card-header {
        position: static; /* –í–∞–∂–Ω–æ! */
    }
    .ad-location {
    margin: 5px 0 15px;
    color: #007bff; /* –°–∏–Ω–∏–π —Ü–≤–µ—Ç, –∫–∞–∫ –≤ –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º–µ */
    font-size: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 5px;
}
</style>
{% endblock %}